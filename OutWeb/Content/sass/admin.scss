@charset "UTF-8";

$enable-RWD:       false;
$isAdmin:          true;
$choice-box-has:   true;

$blue-grey:        #607D8B;

$table-list-thead:    desaturate(lighten(#175361, 10), 20);


// import
// ------------------------------------------------------------
@import "core/function";   // (置頂)

@import "_admin/setting"; // 後台用變數
@import "core/variables";
@import "core/mixins";

// 由此 output css
@import "vendor/normalize";  // 重置樣式
@import "vendor/print";      // 列印樣式

@import "element/basic";
@import "element/link";
@import "element/type";
@import "element/table";
@import "element/form";
@import "element/btn";
@import "element/util";

// 本頁專用
@import "_admin/modules/input-switch";
@import "_admin/modules/input-group";
@import "_admin/modules/btn-group";
@import "_admin/modules/field";
@import "_admin/modules/label";
@import "_admin/modules/alerts";
@import "_admin/modules/loader";
@import "_admin/modules/tooltip";
@import "_admin/modules/modal";

@import "_admin/custom";
@import "_admin/layout";


// main
// ------------------------------------------------------------

// grid new
[data-col] {
    float: left;

    &:not(:last-of-type) {
        margin-right: 1%;
    }
}
[data-col="half"] {
    @include grid(1, 2, 1%);
}
[data-col="third"] {
    @include grid(1, 3, 1%);
}
[data-col="fourth"] {
    @include grid(1, 4, 1%);
}

// == reportlist
.report-list {
    @extend .table-bordered, .table-hover, .table-striped-rowspan, .full, .bg-white;

    box-shadow: 0 0 3px 2px #eee;

    th, td {
        @extend .py-8;
    }

    thead {
        @extend .text-white;
        // background: desaturate(darken(color(), 4), 50);
        background: $table-list-thead;
    }

    caption {
        background: darken(color(muted), 8);
        border: 1px solid #fff;
        border-bottom: none;
    }
}
// 搜尋用戶欄
.user {
    &-search {
        @extend %list-inline, .mr-32, .pr-32, .mb-0;
        border-right: 1px solid $border-color;
    }
    &-box {
        @extend .px-16, .py-8, .my-24;
        border: 1px solid $border-color;
    }
}

// == 列表
// 上方按鈕欄(新增,下載彙總表等)
.topBtn-bar {
    @extend .mb-12;
}

// 列表上的搜尋
.table-head {
    $element-h:  $input-font-size*1.9;

    @extend .p-8, .text-secondary, .font-sm;

    background: darken($body-bg, 7.5);

    * { vertical-align: middle; }

    label { @extend .mr-2; }

    input, select {
        @extend .mr-8;

        line-height: $element-h;
        height: $element-h;
        min-height: auto;
    }

    .form-inline {
        &:not(:last-child) { @extend .mb-8; }
    }
    .btn {
        @extend .py-0;

        height: $element-h;
        font-size: inherit;
    }
}

.table-list {
    @extend .table-bordered, .full;

    caption {
        @extend .text-left, .p-8, .font-lg;
        // background: #F2F7FA;
        // color: #818A91;
        // font-size: em(19);
    }
    > thead {
        @extend .text-white;
        background: $table-list-thead;
    }
    th {
        font-weight: normal;
        line-height: 1.4;
    }
    .item-edit {
        // width: 80px;
        white-space: nowrap;
        max-width: 80px;
    }

    // 展開
    .slide-content {
        @extend .bg-muted;
        // background: desaturate(darken(color(muted), 15), 6);
        box-shadow: inset 0 0 16px rgba(#000, .3);

        thead {
            background: saturate( lighten(color(muted), 4), 30);
        }
        > td {
            @extend .p-16;
        }
    }
}
// 點選排序
.th-sort-toggle {
    $arrow-size: 4px;

    @extend .p-0, .pr-12, .text-white;

    display: block;
    position: relative;
    width: 100%;

    background: none;
    text-align: inherit;

    @include transition(.3s);

    &:hover { color: lighten(color(warning), 10); }

    @include el(all) {
        @include absolute(right 0 top 50%);
        border: $arrow-size solid transparent;
    }
    // 上
    &:before {
        margin-top: -($arrow-size * 2 + 1);
        border-top-width: $arrow-size/2;
        border-bottom: ($arrow-size + 2) solid rgba(#fff,.3);
    }
    // 下
    &:after {
        margin-top: 1px;
        border-bottom-width: $arrow-size/2;
        border-top: ($arrow-size + 2) solid rgba(#fff,.3);
    }
    // 倒序
    &.asc {
        &:before { border-bottom-color: rgba(#fff,.8); }
        &:after { border-top-color: rgba(#fff,.1); }
    }
    // 順序
    &.desc {
        &:after { border-top-color: rgba(#fff,.8); }
        &:before { border-bottom-color: rgba(#fff,.1); }
    }
}

// 列表頁腳 pager
.table-foot {
    padding: 6px;
    background: lighten($table-color-border,4);
}
.pager {
    @extend .font-sm, .text-center;

    @include clearfix;

    input, button { line-height: 20px; }
    button {
        @extend .px-2;
        margin: 0 1px;
        border: 1px solid lighten($input-color-border,5);

        &[disabled] {
            color: darken(color("muted"),5);
        }
        &:not([disabled]) {
            @extend .bg-white;
            color: darken($input-color-border,10);

            &:hover, &:active {
                background: #eee;
            }
        }
    }
    span { @extend .mx-8; }
    input {
        @extend .mx-4, .text-center;
        display: inline;
        width: 80px;
        padding: 0;
    }
}

// == 編輯
.form-list {
    // 分段小標
    legend {
        @extend .text-secondary, .font-lg, .pb-4, .mb-12;

        &.underline {
            border-bottom: 1px dashed $border-color;
        }
    }

    // input readonly 狀態樣式
    [readonly] {
        // @extend .bg-white;
        background: transparent;
        border: none;
        border-bottom: 1px solid $border-color;
        box-shadow: none;
    }
}
// 提報用戶資訊欄
.report-info {
    @extend .mb-32, .text-secondary;

    background: darken(saturate(color(muted), 30), 3);

    li {
        @extend .p-12;
    }
}

// == 按鈕bar
.submit-bar {
    @extend .py-12;
    border-top: 2px solid lighten(color(success), 15);
    background: darken(color(muted), 3.5);
    padding-left: 16.72%;

    .btn {
        &:not(:last-child) { @extend .mr-8; }
    }
}

// == 檔案上傳
// 用法:
// <div class="input-file">
//     <input type="file">
// </div>
.input-file {
    @include clearfix;

    &:not(:empty) {
        @extend .p-2;
        border: $input-border;
        cursor: pointer;

        @if $input-bg {
            background: $input-bg;
        }
    }

    &:hover, &:active {
        border-color: $input-focus-border-color;
    }

    [type='file'] {
        width: 100%;

        &:focus {
            outline: none;
        }
    }

    // components版的
    div:nth-child(2) {
        z-index: 2;
        float: right;
        position: relative;
        margin-top: -20px;
    }
}

// 已上傳檔案
// <div class="uploaded">
//   <button type="button" class="btn-del>&times;</button>
//   <img />
// </div>
.uploaded {
    $del-size: 21px;

    @extend .pull-left, .font-sm, .mr-8, .mt-8;

    position: relative;
    border: 1px solid color(muted);
    color: #aaa;
    padding: 4px $del-size 4px 4px;

    // 圖片
    img {
        width: auto;
        height: 38px;
    }

    // 刪除按鈕
    .btn-del {
        @extend .text-white, .bg-danger, .p-0;

        @include rem('font-size',  ($del-size - 4));
        @include circle($del-size);
        @include absolute(right -5px top -3px);
        @include transition(.35s);

        // border: none;
        // outline: none;
        line-height: 1;

        &:hover {
            background: #000;
        }
    }
}

// == 日期元件
.react-datepicker-popper {
    z-index: 99;
}

// == 操作影片列表
.list-link {
    counter-reset: num; //計算基準

    > li {
        @extend .mb-4;
    }

    a {
        @extend .p-8;

        display: block;
        padding-left: 45px;
        background: color(light);
        border: 1px solid lighten(color(), 40);
        position: relative;

        @include el(before, $content: counter(num)) {
            @extend .py-8, .text-center;

            counter-increment: num;

            width: 35px;
            height: 100%;
            background: darken(color(light), 5);
            border-right: 1px solid lighten(color(), 40);
            transition: background .15s;

            @include absolute(left 0 top 0);
        }


        &:hover {
            color: #fff;
            background: lighten(color(), 10);

            &:before {
                background: color();
                border-right-color: color(light);
            }
        }
    }
}

// == file download
.download-file {
    @extend .center, .font-xl, .text-center, .py-48, .bg-white;

    display: block;
    width: 75%;
    border-radius: $border-radius;
    border: 1px solid $border-color;

    @include transition(.5s);

    &:hover, &:active {
        background: lighten(color(muted), 5);
        box-shadow: inset 3px 3px 7px rgba(#000, .1);
    }
}